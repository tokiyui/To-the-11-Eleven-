<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>To the 11'Eleven 物販シミュレーター</title>
  <style>
    .price-input {
      text-align: right;
    }
    .subsection {
      font-weight: bold;
      margin-top: 15px;
    }
    .hidden {
      display: none;
    }
  </style>
  <script>
    function calculateTotal() {
      let totalPrice = 0;

      // すべての個数入力欄の要素を取得して、金額と数量を計算
      const quantityInputs = document.querySelectorAll('input[type="number"]');
      quantityInputs.forEach(input => {
        const price = input.dataset.price;
        let quantity = input.value || 0;

        // 個数が負の値にならないようにする
        if (quantity < 0) {
          quantity = 0;
          input.value = 0;
        }

        totalPrice += price * quantity;
      });

      // ポストカード4枚セットのテキストボックスの数量を取得して、金額を計算
      const postcardPrice = document.querySelector('input[type="text"][data-price="800"]').dataset.price;
      let postcardQuantity = document.querySelector('input[type="text"][data-price="800"]').value || 0;
      
      // 個数が負の値にならないようにする
      if (postcardQuantity < 0) {
        postcardQuantity = 0;
        //document.querySelector('input[type="text"][data-price="800"]').value = 0;
      }

      totalPrice += postcardPrice * postcardQuantity;
      
      // 缶バッジのテキストボックスの数量を取得して、金額を計算
      const badgePrice = document.querySelector('input[type="text"][data-price="500"]').dataset.price;
      let badgeQuantity = document.querySelector('input[type="text"][data-price="500"]').value || 0;

      // 個数が負の値にならないようにする
      if (badgeQuantity < 0) {
        badgeQuantity = 0;
        //document.querySelector('input[type="text"][data-price="500"]').value = 0;
      }

      totalPrice += badgePrice * badgeQuantity;

      // 合計金額を表示
      document.getElementById('totalPrice').textContent = `合計金額: ${totalPrice}円`;
    }

    function toggleVisibility(sectionId) {
      const section = document.getElementById(sectionId);
      if (section.classList.contains('hidden')) {
        section.classList.remove('hidden');
      } else {
        section.classList.add('hidden');
      }
    }
    
    function showHiddenElement() {
      var hiddenElement = document.getElementById("hiddenElement");
      hiddenElement.style.visibility = "visible";
    }

  </script>
</head>
<body>
  <h1>To the 11'Eleven 物販シミュレーター</h1>
  
  <form oninput="calculateTotal()">
    <!-- 商品ごとのフォーム -->
    <!-- 商品名、価格、個数入力欄を記述 -->
    <!-- 例：<label>商品名</label><input type="number" data-price="価格"> -->
    <div class="subsection">【会場限定販売】</div>
    <label>ペンライト 3000円✕<input type="number" data-price="3000" class="price-input" value="0"></label><br>
    <label>カワウソくん。ぬいぐるみチャーム 1800円✕<input type="number" data-price="1800" class="price-input" value="0"></label><br>
    <div class="subsection">【会場限定ランダム商品】</div>
    <label>ポストカード4枚セット(ランダム全11種) 800円✕<input type="text" data-price="800" class="price-input" value="0"></label><br>
    <label>缶バッジ(ランダム全11種 当たり付き) 500円✕<input type="text" data-price="500" class="price-input" value="0"></label><br>
    <div class="subsection">布もの</div>
    <label>Tシャツ WHITE/BLACK 3000円✕<input type="number" data-price="3000" class="price-input" value="0"></label><br>
    <label>ロングスリーブTシャツ 4200円✕<input type="number" data-price="4200" class="price-input" value="0"></label><br>
    <label>プルオーバーパーカ 7000円✕<input type="number" data-price="7000" class="price-input" value="0"></label><br>
    <label>バケットハット 2800円✕<input type="number" data-price="2800" class="price-input" value="0"></label><br>
    <label>小倉唯と共に!タオル 2000円✕<input type="number" data-price="2000" class="price-input" value="0"></label><br>
    <label>トートバッグ 2500円✕<input type="number" data-price="2500" class="price-input" value="0"></label><br>
    <div class="subsection">その他</div>
    <label>パンフレット 3000円✕<input type="number" data-price="3000" class="price-input" value="0"></label><br>
    <label>サテンステッカー2枚セット 300円✕<input type="number" data-price="300" class="price-input" value="0"></label><br>
    <label>バウンスバンド 800円✕<input type="number" data-price="800" class="price-input" value="0"></label><br>
    <label>台紙付きアクリルスタンド(全4種) 1500円✕<input type="number" data-price="1500" class="price-input" value="0"></label><br>
    <label>卓上カレンダー 2000円✕<input type="number" data-price="2000" class="price-input" value="0"></label><br>
    <label>ラバーキーホルダーセット 1600円✕<input type="number" data-price="1600" class="price-input" value="0"></label><br>
    <div class="subsection">CD販売</div>
    <label>初回限定盤A「Empty//Princess.」 2310円✕<input type="number" data-price="2310" class="price-input" value="0"></label><br>
    <label>初回限定盤B「Empty//Princess.」 2310円✕<input type="number" data-price="2310" class="price-input" value="0"></label><br>
    <label>通常盤「Empty//Princess.」 1590円✕<input type="number" data-price="1590" class="price-input" value="0"></label><br>
    <div class="subsection" onclick="toggleVisibility('hiddenSection')">▼旧譜はこちら</div>
    <div id="hiddenSection" class="hidden">
    <label>初回限定盤A「秘密♡Melody」 2310円✕<input type="number" data-price="2310" class="price-input" value="0"></label><br>
    <label>初回限定盤B「秘密♡Melody」 2310円✕<input type="number" data-price="2310" class="price-input" value="0"></label><br>
    <label>通常盤「秘密♡Melody」 1590円✕<input type="number" data-price="1590" class="price-input" value="0"></label><br>
    <label>わたゆり盤「秘密♡Melody」 1430円✕<input type="number" data-price="1430" class="price-input" value="0"></label><br>
    <label>初回限定盤A「Love∞Vision」 2310円✕<input type="number" data-price="2310" class="price-input" value="0"></label><br>
    <label>初回限定盤B「Love∞Vision」 2310円✕<input type="number" data-price="2310" class="price-input" value="0"></label><br>
    <label>通常盤「Love∞Vision」 1590円✕<input type="number" data-price="1590" class="price-input" value="0"></label><br>
    </div>

    <div id="totalPrice">合計金額: 0円</div>
  </form>
</body>
</html>

